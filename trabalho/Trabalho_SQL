
CREATE TABLE PRODUTOS(
	ID_PRODUTO INTEGER NOT NULL,
	MARCA VARCHAR(50) NOT NULL,
 	GENERO VARCHAR(50),
 	DESCRICAO VARCHAR(100) NOT NULL,
    CONSTRAINT PK_PRODUTOS PRIMARY KEY (ID_PRODUTO)
);

COMMIT;

CREATE TABLE FORNECEDORES(
	ID_FORNECED INTEGER NOT NULL,
	TELEFONE VARCHAR(13),
	CPF_CNPJ VARCHAR(14) NOT NULL,
	NOME_FANTASIA VARCHAR(50) NOT NULL,
	ENDERECO VARCHAR(100),
	CONSTRAINT PK_FORNECEDORES PRIMARY KEY (ID_FORNECED)
);

COMMIT;

CREATE TABLE FORNECEM(
	ID_FORNECED INTEGER NOT NULL,
	ID_PRODUTO INTEGER NOT NULL
	CONSTRAINT PK_FORNECEM PRIMARY KEY (ID_FORNECED, ID_PRODUTO),
	CONSTRAINT FK_FORNECEM_FORNECEDOR FOREIGN KEY(ID_FORNECED) REFERENCES FORNECEDOR(ID_FORNECEDOR),
	CONSTRAINT FK_FORNECEM_PRODUTOS FOREIGN KEY(ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTO)
);

COMMIT;

CREATE TABLE H_PRODUD(
	ID_HPROD INTEGER NOT NULL,
	HIS_PRECO DECIMAL NOT NULL,
	ID_PRODUTO INTEGER NOT NULL,
	CONSTRAINT PK_H_PROD PRIMARY KEY(ID_HPROD),
	CONSTRAINT FK_H_PROD_PRODUTO FOREIGN KEY(ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTO)
);

COMMIT;

CREATE TABLE CLIENTES(
	CPF VARCHAR(14) NOT NULL,
	ID_CLIENTE INTEGER NOT NULL,
	ENDERECO VARCHAR(100),
	TELEFONE VARCHAR(11) NOT NULL,
	CONSTRAINT PK_CLIENTES PRIMARY KEY (ID_CLIENTE) 
);

COMMIT;

CREATE TABLE FUNCIONARIO(
	ID_FUNCIONARIO INTEGER NOT NULL,
	NOME VARCHAR(50),
	CPF VARCHAR(14) NOT NULL,
	CONSTRAINT PK_FUNCIONARIO FOREIGN KEY (IF_FUNCIONARIO)
);

COMMIT;

CREATE TABLE COMISSAO(
	ID_COMISSAO INTEGER NOT NULL,
	PERCENT DECIMAL NOT NULL,
	ID_FUNCIONARIO INT NOT NULL,
	CONSTRAINT FK_COMISSAO FOREIGN KEY (ID_COMISSAO),
	CONSTRAINT FK_COMISSAO_FUNCIONARIO FOREIGN KEY(ID_FUNCIONARIO) REFERENCES FUNCIONARIO(ID_FUNCIONARIO)
);      

COMMIT;

CREATE TABLE COMPRA(
	DATA_HORA DATETIME NOT NULL,
	ID_COMPRA INTEGER NOT NULL,
	NUMERO_CAIXA INTEGER NOT NULL,
	ID_CLIENTE INTEGER NOT NULL,
	ID_FUNCIONARIO INTEGER NOT NULL,
	CONSTRAINT PK_COMPRA PRIMARY KEY (ID_COMPRA),
	CONSTRAINT FK_COMPRA_CLIENTE FOREIGN KEY(ID_CLIENTE) REFERENCES CLIENTES(ID_CLIENTE),
	CONSTRAINT FK_COMPRA_FUNCIONARIO FOREIGN KEY(ID_FUNCIONARIO) REFERENCES FUNCIONARIO(ID_FUNCIONARIO)
);                                                               

COMMIT;

CREATE TABLE GRADE_PRODUTOS(
	TAMANHO VARCHAR(50) NOT NULL,
	COR VARCHAR(20) NOT NULL,
	VRL DECIMAL NOT NULL,
	ID_GRADE INTEGER NOT NULL,
	QTDE INTEGER NOT NULL,
	ID_PRODUTO INTEGER NOT NULL,
	CONSTRAINT PK_GRADE_PRODUTOS PRIMARY KEY (ID_GRADE),
	CONSTRAINT FK_GRADE_PRODUTOS_PRODUTOS FOREIGN KEY(ID_PRODUTO) REFERENCES PRODUTOS(ID_PRODUTO)
);

COMMIT;

CREATE TABLE RETIRAM(
	ID_GRADE INTEGER NOT NULL,
	ID_COMPRA INTEGER NOT NULL
	CONSTRAINT FK_RETIRAM_GRADE_PRODUTOS FOREIGN KEY(ID_GRADE) REFERENCES GRADE_PRODUTOS(ID_GRADE),
	CONSTRAINT FK_RETIRAM_COMPRA FOREIGN KEY(ID_COMPRA) REFERENCES COMPRA(ID_COMPRA)
);

COMMIT;